<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>PrismWeave Notification Click Test</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #333;
        margin-bottom: 20px;
      }
      .test-button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        margin: 10px;
        transition: background-color 0.2s;
      }
      .test-button:hover {
        background: #2563eb;
      }
      .test-button.success {
        background: #10b981;
      }
      .test-button.success:hover {
        background: #059669;
      }
      .test-button.error {
        background: #ef4444;
      }
      .test-button.error:hover {
        background: #dc2626;
      }
      .instructions {
        background: #f3f4f6;
        padding: 20px;
        border-radius: 6px;
        margin: 20px 0;
        border-left: 4px solid #3b82f6;
      }
      .debug-info {
        background: #1f2937;
        color: #f9fafb;
        padding: 15px;
        border-radius: 6px;
        font-family: 'Courier New', monospace;
        font-size: 14px;
        margin: 20px 0;
      }
      .step {
        margin: 10px 0;
        padding: 10px;
        background: #e5e7eb;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üîß PrismWeave Notification Click Test</h1>

      <div class="instructions">
        <h3>üìã Testing Instructions:</h3>
        <div class="step">
          <strong>Step 1:</strong>
          Make sure the PrismWeave extension is loaded in your browser
        </div>
        <div class="step">
          <strong>Step 2:</strong>
          Open the browser console (F12) to see debug logs
        </div>
        <div class="step">
          <strong>Step 3:</strong>
          Click the test buttons below to trigger notifications
        </div>
        <div class="step">
          <strong>Step 4:</strong>
          Try clicking on the notifications that appear
        </div>
        <div class="step">
          <strong>Step 5:</strong>
          Check the console for debug output
        </div>
      </div>

      <h3>üß™ Test Buttons:</h3>
      <button
        class="test-button success"
        onclick="testSuccessNotification()"
      >
        Test Success Notification (Clickable)
      </button>

      <button
        class="test-button"
        onclick="testInfoNotification()"
      >
        Test Info Notification (Clickable)
      </button>

      <button
        class="test-button error"
        onclick="testErrorNotification()"
      >
        Test Error Notification (Non-clickable)
      </button>

      <button
        class="test-button"
        onclick="testKeyboardShortcut()"
      >
        Test Keyboard Shortcut (Alt+S)
      </button>

      <div class="debug-info">
        <h4>üêõ Debug Console Commands:</h4>
        <p>You can also test notifications directly in the console:</p>
        <div>
          <code>
            // Test clickable notification
            <br />
            window.prismweaveContentScript.testNotification();
            <br />
            <br />

            // Test custom notification
            <br />
            window.prismweaveContentScript.showNotification(
            <br />
            &nbsp;&nbsp;"Custom test message",
            <br />
            &nbsp;&nbsp;"success",
            <br />
            &nbsp;&nbsp;10000,
            <br />
            &nbsp;&nbsp;"https://github.com"
            <br />
            );
            <br />
            <br />

            // Check extension state
            <br />
            console.log(window.prismweaveContentScript.state);
          </code>
        </div>
      </div>

      <div class="instructions">
        <h3>üîç What to Look For:</h3>
        <ul>
          <li>Notifications should appear in the top-right corner</li>
          <li>Clickable notifications should have a pointer cursor and border</li>
          <li>Hover effects should work (scale slightly, color change)</li>
          <li>Console should show debug logs for mouse events</li>
          <li>Clicking should open a new tab and hide the notification</li>
          <li>If clicking doesn't work, check for console errors</li>
        </ul>
      </div>
    </div>

    <script>
      function testSuccessNotification() {
        console.log('Testing success notification...');
        if (window.prismweaveContentScript && window.prismweaveContentScript.showNotification) {
          window.prismweaveContentScript.showNotification(
            '‚úÖ Success! Click to open GitHub.',
            'success',
            10000,
            'https://github.com/davidhayesbc/PrismWeaveDocs'
          );
        } else {
          console.error('‚ùå PrismWeave extension not found or showNotification method missing');
          alert('PrismWeave extension not found. Check console for details.');
        }
      }

      function testInfoNotification() {
        console.log('Testing info notification...');
        if (window.prismweaveContentScript && window.prismweaveContentScript.showNotification) {
          window.prismweaveContentScript.showNotification(
            '‚ÑπÔ∏è Info notification. Click to open Chrome Extensions page.',
            'info',
            10000,
            'chrome://extensions/'
          );
        } else {
          console.error('‚ùå PrismWeave extension not found or showNotification method missing');
          alert('PrismWeave extension not found. Check console for details.');
        }
      }

      function testErrorNotification() {
        console.log('Testing error notification...');
        if (window.prismweaveContentScript && window.prismweaveContentScript.showNotification) {
          window.prismweaveContentScript.showNotification('‚ùå Error notification (not clickable).', 'error', 5000);
        } else {
          console.error('‚ùå PrismWeave extension not found or showNotification method missing');
          alert('PrismWeave extension not found. Check console for details.');
        }
      }

      function testKeyboardShortcut() {
        console.log('Testing keyboard shortcut...');
        alert('Now try pressing Alt+S to test the keyboard shortcut!');
      }

      // Auto-check if extension is available
      let extensionReady = false;

      // Listen for the custom ready event
      document.addEventListener('prismweave-ready', function (event) {
        console.log('‚úÖ PrismWeave extension ready event received!', event.detail);
        extensionReady = true;
        checkExtensionStatus();
      });

      function checkExtensionStatus() {
        if (window.prismweaveContentScript) {
          console.log('‚úÖ PrismWeave extension detected!');
          console.log('Extension state:', window.prismweaveContentScript.state);
          console.log('Available methods:', Object.keys(window.prismweaveContentScript));
        } else {
          console.warn("‚ö†Ô∏è PrismWeave extension not found. Make sure it's loaded.");
        }
      }

      window.addEventListener('load', function () {
        // Check immediately
        checkExtensionStatus();

        // Also check after delays in case the extension loads later
        setTimeout(checkExtensionStatus, 500);
        setTimeout(checkExtensionStatus, 1000);
        setTimeout(checkExtensionStatus, 2000);
      });
    </script>
  </body>
</html>
