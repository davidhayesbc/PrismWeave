<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>PrismWeave Bookmarklet Help</title>
    <link rel="stylesheet" href="../styles/shared-ui.css" />
    <style>
      body {
        font-family: var(--pw-font-family);
        line-height: 1.6;
        color: var(--pw-text-primary);
        background: var(--pw-bg-secondary);
        margin: 0;
        padding: 0;
      }

      .help-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
      }

      .help-section {
        background: var(--pw-bg-primary);
        border-radius: var(--pw-radius-lg);
        padding: 20px;
        margin: 20px 0;
        border-left: 4px solid var(--pw-primary-500);
        box-shadow: var(--pw-shadow);
      }

      .help-title {
        color: var(--pw-primary-600);
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .step-list {
        list-style: none;
        padding: 0;
      }

      .step-list li {
        background: var(--pw-bg-secondary);
        margin: 10px 0;
        padding: 15px;
        border-radius: var(--pw-radius);
        border-left: 3px solid var(--pw-success-500);
        position: relative;
        padding-left: 45px;
      }

      .step-list li::before {
        content: counter(step-counter);
        counter-increment: step-counter;
        position: absolute;
        left: 15px;
        top: 15px;
        background: var(--pw-success-500);
        color: white;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
      }

      .step-list {
        counter-reset: step-counter;
      }

      .code-snippet {
        background: var(--pw-gray-900);
        color: var(--pw-gray-100);
        padding: 15px;
        border-radius: var(--pw-radius);
        font-family: var(--pw-font-mono);
        font-size: 14px;
        overflow-x: auto;
        margin: 10px 0;
      }

      .tip {
        background: var(--pw-primary-50);
        border: 1px solid var(--pw-primary-200);
        border-radius: var(--pw-radius);
        padding: 15px;
        margin: 15px 0;
      }

      .tip-warning {
        background: var(--pw-warning-50);
        border-color: var(--pw-warning-200);
      }

      .tip h4 {
        color: var(--pw-primary-700);
        margin-bottom: 8px;
      }

      .tip-warning h4 {
        color: var(--pw-warning-700);
      }

      .nav-links {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        justify-content: center;
      }

      .nav-link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        background: var(--pw-gradient-primary);
        color: white;
        text-decoration: none;
        border-radius: var(--pw-radius-lg);
        font-weight: 500;
        transition: all 0.2s ease;
        box-shadow: var(--pw-shadow);
      }

      .nav-link:hover {
        transform: translateY(-2px);
        box-shadow: var(--pw-shadow-md);
        text-decoration: none;
        color: white;
      }

      .nav-link.secondary {
        background: var(--pw-bg-primary);
        color: var(--pw-primary-600);
        border: 1px solid var(--pw-border-color);
      }

      .nav-link.secondary:hover {
        background: var(--pw-bg-secondary);
        color: var(--pw-primary-700);
      }
    </style>
  </head>

      .step-list li::before {
        content: counter(step-counter);
        counter-increment: step-counter;
        position: absolute;
        left: 15px;
        top: 15px;
        background: var(--success);
        color: white;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
      }

      .step-list {
        counter-reset: step-counter;
      }

      .warning-box {
        background: #fff3cd;
        color: #856404;
        padding: 15px;
        border-radius: 6px;
        border-left: 4px solid #ffc107;
        margin: 15px 0;
      }

      .success-box {
        background: #d4edda;
        color: #155724;
        padding: 15px;
        border-radius: 6px;
        border-left: 4px solid #28a745;
        margin: 15px 0;
      }

      .code-snippet {
        background: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 6px;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 13px;
        overflow-x: auto;
        margin: 10px 0;
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .feature-card {
        background: var(--bg-primary);
        padding: 15px;
        border-radius: 8px;
        border: 1px solid var(--border);
      }

      .feature-icon {
        font-size: 24px;
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <div class="help-container">
      <h1>üîñ PrismWeave Bookmarklet Help</h1>

      <div class="help-section">
        <h2 class="help-title">
          <span>üì•</span>
          Installation Guide
        </h2>

        <div class="success-box">
          <strong>‚úÖ No Extension Required!</strong>
          The bookmarklet works on any browser without installing the PrismWeave extension.
        </div>

        <h3>Method 1: Drag and Drop (Recommended)</h3>
        <ol class="step-list">
          <li>Open your browser's bookmarks toolbar (usually visible below the address bar)</li>
          <li>Go to the PrismWeave extension options page</li>
          <li>Navigate to the "Bookmarklet" section</li>
          <li>Drag the "PrismWeave Capture" button to your bookmarks toolbar</li>
          <li>The bookmarklet is now ready to use!</li>
        </ol>

        <h3>Method 2: Manual Creation</h3>
        <ol class="step-list">
          <li>Right-click on your bookmarks toolbar</li>
          <li>Select "Add page..." or "Add bookmark"</li>
          <li>Set the name to "PrismWeave Capture"</li>
          <li>Copy the bookmarklet code from the options page</li>
          <li>Paste the code as the URL/Location</li>
          <li>Save the bookmark</li>
        </ol>
      </div>

      <div class="help-section">
        <h2 class="help-title">
          <span>üéÆ</span>
          How to Use
        </h2>

        <ol class="step-list">
          <li>
            <strong>Navigate</strong>
            to any webpage you want to capture
          </li>
          <li>
            <strong>Click</strong>
            the "PrismWeave Capture" bookmark in your toolbar
          </li>
          <li>
            <strong>Configure</strong>
            your GitHub settings (first time only)
          </li>
          <li>
            <strong>Review</strong>
            the detected content in the preview
          </li>
          <li>
            <strong>Click "Capture"</strong>
            to save the content to your repository
          </li>
          <li>
            <strong>Check</strong>
            your GitHub repository for the new markdown file
          </li>
        </ol>

        <div class="warning-box">
          <strong>‚ö†Ô∏è First-Time Setup</strong>
          <br />
          On first use, you'll need to provide your GitHub personal access token and repository information. This is
          stored securely in your browser's local storage.
        </div>
      </div>

      <div class="help-section">
        <h2 class="help-title">
          <span>‚öôÔ∏è</span>
          Configuration Options
        </h2>

        <div class="feature-grid">
          <div class="feature-card">
            <div class="feature-icon">üîë</div>
            <h4>GitHub Token</h4>
            <p>
              Personal access token with repository write permissions. Generate one at GitHub Settings ‚Üí Developer
              settings ‚Üí Personal access tokens.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üìÅ</div>
            <h4>Repository</h4>
            <p>
              Target repository in
              <code>owner/repo</code>
              format where captured content will be saved.
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üåø</div>
            <h4>Branch</h4>
            <p>Git branch to commit to (default: main). Branch must already exist in the repository.</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üìÇ</div>
            <h4>Folder Path</h4>
            <p>
              Custom folder structure for organizing captured content. Supports date placeholders like
              <code>{YYYY}/{MM}</code>
              .
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üñºÔ∏è</div>
            <h4>Include Images</h4>
            <p>Whether to process and include image references in the captured markdown content.</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üîó</div>
            <h4>Include Links</h4>
            <p>Preserve hyperlinks in the converted markdown format, maintaining navigation between content.</p>
          </div>
        </div>
      </div>

      <div class="help-section">
        <h2 class="help-title">
          <span>üõ†Ô∏è</span>
          Troubleshooting
        </h2>

        <h3>Common Issues</h3>

        <div class="feature-grid">
          <div class="feature-card">
            <h4>‚ùå Bookmarklet Not Working</h4>
            <p>
              <strong>Cause:</strong>
              Content Security Policy restrictions
            </p>
            <p>
              <strong>Solution:</strong>
              Refresh the page and try again. Some websites block external scripts.
            </p>
          </div>

          <div class="feature-card">
            <h4>üîê GitHub API Errors</h4>
            <p>
              <strong>Cause:</strong>
              Invalid or expired access token
            </p>
            <p>
              <strong>Solution:</strong>
              Generate a new personal access token with repository write permissions.
            </p>
          </div>

          <div class="feature-card">
            <h4>üìÑ No Content Captured</h4>
            <p>
              <strong>Cause:</strong>
              Unusual page structure
            </p>
            <p>
              <strong>Solution:</strong>
              Try manually selecting content or adjusting extraction settings.
            </p>
          </div>

          <div class="feature-card">
            <h4>üìè File Too Large</h4>
            <p>
              <strong>Cause:</strong>
              GitHub file size limits
            </p>
            <p>
              <strong>Solution:</strong>
              Enable content truncation or capture specific sections only.
            </p>
          </div>
        </div>

        <h3>Error Messages</h3>

        <div class="code-snippet">
          <strong>"Failed to extract content"</strong>
          ‚Ä¢ The page structure couldn't be analyzed ‚Ä¢ Try refreshing and clicking the bookmarklet again ‚Ä¢ Some dynamic
          content may not be accessible

          <strong>"GitHub API error: 401"</strong>
          ‚Ä¢ Authentication failed with GitHub ‚Ä¢ Check your personal access token is valid ‚Ä¢ Ensure token has repository
          write permissions

          <strong>"Repository not found"</strong>
          ‚Ä¢ Repository name is incorrect or inaccessible ‚Ä¢ Verify the repository exists and is public/accessible ‚Ä¢ Check
          the repository name format: owner/repo

          <strong>"Content too large"</strong>
          ‚Ä¢ Captured content exceeds GitHub API limits ‚Ä¢ Try capturing smaller sections of content ‚Ä¢ Enable content
          truncation in settings
        </div>
      </div>

      <div class="help-section">
        <h2 class="help-title">
          <span>üîí</span>
          Privacy & Security
        </h2>

        <ul>
          <li>
            <strong>Local Storage Only:</strong>
            Your GitHub token is stored locally in your browser and never transmitted to third-party servers
          </li>
          <li>
            <strong>Direct API Calls:</strong>
            Content is sent directly to GitHub's API without intermediary services
          </li>
          <li>
            <strong>No Data Collection:</strong>
            No tracking, analytics, or data collection is performed
          </li>
          <li>
            <strong>Open Source:</strong>
            Full source code is available for security review
          </li>
          <li>
            <strong>Secure Transmission:</strong>
            All API calls use HTTPS encryption
          </li>
        </ul>
      </div>

      <div class="help-section">
        <h2 class="help-title">
          <span>üí°</span>
          Tips & Best Practices
        </h2>

        <ul>
          <li>
            <strong>Test on Simple Pages:</strong>
            Try the bookmarklet on simple articles first to verify it's working
          </li>
          <li>
            <strong>Bookmark Toolbar:</strong>
            Keep the bookmarklet visible in your bookmarks toolbar for quick access
          </li>
          <li>
            <strong>Repository Organization:</strong>
            Use consistent folder naming conventions for better content organization
          </li>
          <li>
            <strong>Token Security:</strong>
            Use minimal permissions on your GitHub token (only repository access needed)
          </li>
          <li>
            <strong>Regular Backups:</strong>
            Consider backing up your captured content repository
          </li>
          <li>
            <strong>Content Review:</strong>
            Review captured content before committing to ensure quality
          </li>
        </ul>
      </div>

      <div class="help-section">
        <h2 class="help-title">
          <span>üÜò</span>
          Getting More Help
        </h2>

        <p>If you're still experiencing issues:</p>
        <ul>
          <li>Check the PrismWeave GitHub repository for known issues</li>
          <li>Verify your GitHub token permissions and repository access</li>
          <li>Test the bookmarklet on different websites to isolate the problem</li>
          <li>Consider using the full browser extension for more advanced features</li>
        </ul>

        <div class="success-box">
          <strong>üí¨ Need Support?</strong>
          <br />
          Visit the PrismWeave GitHub repository to report issues, request features, or get help from the community.
        </div>
      </div>
    </div>
  </body>
</html>
